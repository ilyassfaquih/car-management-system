{"ast":null,"code":"import { tap } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor(http) {\n      this.http = http;\n      this.apiUrl = `${environment.apiUrl}/auth`;\n    }\n    login(credentials) {\n      return this.http.post(`${this.apiUrl}/login`, credentials).pipe(tap(response => {\n        localStorage.setItem('token', response.token);\n        localStorage.setItem('userId', response.userId);\n        localStorage.setItem('username', response.username);\n      }));\n    }\n    logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('userId');\n      localStorage.removeItem('username');\n    }\n    getToken() {\n      return localStorage.getItem('token');\n    }\n    isAuthenticated() {\n      return !!this.getToken();\n    }\n    getUserId() {\n      return localStorage.getItem('userId');\n    }\n    static {\n      this.ɵfac = function AuthService_Factory(t) {\n        return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AuthService,\n        factory: AuthService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return AuthService;\n})();","map":{"version":3,"names":["tap","environment","AuthService","constructor","http","apiUrl","login","credentials","post","pipe","response","localStorage","setItem","token","userId","username","logout","removeItem","getToken","getItem","isAuthenticated","getUserId","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\ILYAS\\Documents\\car\\car-management-system-master\\frontend\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, tap } from 'rxjs';\nimport { environment } from '../../environments/environment';\n\ninterface LoginResponse {\n  token: string;\n  userId: string;\n  username: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private apiUrl = `${environment.apiUrl}/auth`;\n\n  constructor(private http: HttpClient) {}\n\n  login(credentials: { username: string; password: string }): Observable<LoginResponse> {\n    return this.http.post<LoginResponse>(`${this.apiUrl}/login`, credentials).pipe(\n      tap(response => {\n        localStorage.setItem('token', response.token);\n        localStorage.setItem('userId', response.userId);\n        localStorage.setItem('username', response.username);\n      })\n    );\n  }\n\n  logout(): void {\n    localStorage.removeItem('token');\n    localStorage.removeItem('userId');\n    localStorage.removeItem('username');\n  }\n\n  getToken(): string | null {\n    return localStorage.getItem('token');\n  }\n\n  isAuthenticated(): boolean {\n    return !!this.getToken();\n  }\n\n  getUserId(): string | null {\n    return localStorage.getItem('userId');\n  }\n}"],"mappings":"AAEA,SAAqBA,GAAG,QAAQ,MAAM;AACtC,SAASC,WAAW,QAAQ,gCAAgC;;;AAW5D,WAAaC,WAAW;EAAlB,MAAOA,WAAW;IAGtBC,YAAoBC,IAAgB;MAAhB,KAAAA,IAAI,GAAJA,IAAI;MAFhB,KAAAC,MAAM,GAAG,GAAGJ,WAAW,CAACI,MAAM,OAAO;IAEN;IAEvCC,KAAKA,CAACC,WAAmD;MACvD,OAAO,IAAI,CAACH,IAAI,CAACI,IAAI,CAAgB,GAAG,IAAI,CAACH,MAAM,QAAQ,EAAEE,WAAW,CAAC,CAACE,IAAI,CAC5ET,GAAG,CAACU,QAAQ,IAAG;QACbC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACG,KAAK,CAAC;QAC7CF,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEF,QAAQ,CAACI,MAAM,CAAC;QAC/CH,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEF,QAAQ,CAACK,QAAQ,CAAC;MACrD,CAAC,CAAC,CACH;IACH;IAEAC,MAAMA,CAAA;MACJL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;MAChCN,YAAY,CAACM,UAAU,CAAC,QAAQ,CAAC;MACjCN,YAAY,CAACM,UAAU,CAAC,UAAU,CAAC;IACrC;IAEAC,QAAQA,CAAA;MACN,OAAOP,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC;IACtC;IAEAC,eAAeA,CAAA;MACb,OAAO,CAAC,CAAC,IAAI,CAACF,QAAQ,EAAE;IAC1B;IAEAG,SAASA,CAAA;MACP,OAAOV,YAAY,CAACQ,OAAO,CAAC,QAAQ,CAAC;IACvC;;;yBA/BWjB,WAAW,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;MAAA;IAAA;;;eAAXvB,WAAW;QAAAwB,OAAA,EAAXxB,WAAW,CAAAyB,IAAA;QAAAC,UAAA,EAFV;MAAM;IAAA;;SAEP1B,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}