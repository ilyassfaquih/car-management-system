{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/car.service\";\nimport * as i2 from \"../../services/rental.service\";\nimport * as i3 from \"../../services/auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction CarsListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 7);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction CarsListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 8);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction CarsListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 9);\n    i0.ÉµÉµtext(1, \" Loading cars... \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction CarsListComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 12)(1, \"div\", 13)(2, \"span\", 14);\n    i0.ÉµÉµtext(3, \"\\uD83D\\uDE97\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(4, \"div\", 15)(5, \"h3\");\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"p\", 16);\n    i0.ÉµÉµtext(8);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(9, \"div\", 17)(10, \"div\", 18)(11, \"span\", 19);\n    i0.ÉµÉµtext(12, \"Registration:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(13, \"span\", 20);\n    i0.ÉµÉµtext(14);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(15, \"div\", 18)(16, \"span\", 19);\n    i0.ÉµÉµtext(17, \"Price:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(18, \"span\", 21);\n    i0.ÉµÉµtext(19);\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(20, \"div\", 22)(21, \"span\", 23);\n    i0.ÉµÉµtext(22);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(23, \"button\", 24);\n    i0.ÉµÉµlistener(\"click\", function CarsListComponent_div_6_div_1_Template_button_click_23_listener() {\n      const car_r3 = i0.ÉµÉµrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ÉµÉµnextContext(2);\n      return i0.ÉµÉµresetView(ctx_r0.rentCar(car_r3));\n    });\n    i0.ÉµÉµtext(24);\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const car_r3 = ctx.$implicit;\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtextInterpolate2(\"\", car_r3.brand, \" \", car_r3.model, \"\");\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(car_r3.year);\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtextInterpolate(car_r3.registrationNumber);\n    i0.ÉµÉµadvance(5);\n    i0.ÉµÉµtextInterpolate1(\"$\", car_r3.pricePerDay, \"/day\");\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµclassProp(\"available\", car_r3.available)(\"unavailable\", !car_r3.available);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", car_r3.available ? \"Available\" : \"Rented\", \" \");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"disabled\", !car_r3.available);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", car_r3.available ? \"Rent Now\" : \"Not Available\", \" \");\n  }\n}\nfunction CarsListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 10);\n    i0.ÉµÉµtemplate(1, CarsListComponent_div_6_div_1_Template, 25, 12, \"div\", 11);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.cars);\n  }\n}\nfunction CarsListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 25)(1, \"p\");\n    i0.ÉµÉµtext(2, \"No cars available at the moment.\");\n    i0.ÉµÉµelementEnd()();\n  }\n}\nexport let CarsListComponent = /*#__PURE__*/(() => {\n  class CarsListComponent {\n    constructor(carService, rentalService, authService, router) {\n      this.carService = carService;\n      this.rentalService = rentalService;\n      this.authService = authService;\n      this.router = router;\n      // DÃ©claration d les variables (Darouriyin)\n      this.cars = [];\n      this.isLoading = true;\n      this.errorMessage = '';\n      this.successMessage = '';\n      this.isAdmin = false;\n    }\n    ngOnInit() {\n      // VÃ©rifier wach admin bach t-affichi les boutons\n      this.isAdmin = this.authService.isAdmin();\n      this.loadCars();\n    }\n    loadCars() {\n      this.isLoading = true;\n      this.carService.getAllCars().subscribe({\n        next: cars => {\n          this.cars = cars;\n          this.isLoading = false;\n        },\n        error: error => {\n          this.errorMessage = 'Failed to load cars';\n          this.isLoading = false;\n          console.error('Error loading cars:', error);\n        }\n      });\n    }\n    rentCar(car) {\n      if (confirm(`Rent ${car.brand} ${car.model} for $${car.pricePerDay}/day?`)) {\n        const rental = {\n          carId: car.id,\n          startDate: new Date().toISOString(),\n          endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString() // 7 days\n        };\n        this.rentalService.createRental(rental).subscribe({\n          next: response => {\n            this.successMessage = `Successfully rented ${car.brand} ${car.model}!`;\n            setTimeout(() => this.successMessage = '', 3000);\n            this.loadCars();\n          },\n          error: error => {\n            this.errorMessage = 'Failed to rent car. Please try again.';\n            setTimeout(() => this.errorMessage = '', 3000);\n            console.error('Error renting car:', error);\n          }\n        });\n      }\n    }\n    deleteCar(car) {\n      if (confirm('Are you sure you want to delete this car?')) {\n        // T-akked anaka zedti deleteCar f CarService.ts\n        this.carService.deleteCar(car.id).subscribe({\n          next: () => {\n            this.successMessage = 'Car deleted successfully';\n            this.loadCars(); // Recharger la liste\n          },\n          error: err => {\n            this.errorMessage = 'Could not delete car';\n            console.error(err);\n          }\n        });\n      }\n    }\n    // Hado bach l-HTML ma y-dirch erreur, ta t-sawb les components dialhom mn be3d\n    navigateToAdd() {\n      console.log(\"Navigate to add car page\");\n      // this.router.navigate(['/add-car']);\n    }\n    navigateToEdit(car) {\n      console.log(\"Navigate to edit car page\", car);\n      // this.router.navigate(['/edit-car', car.id]);\n    }\n    static {\n      this.Éµfac = function CarsListComponent_Factory(t) {\n        return new (t || CarsListComponent)(i0.ÉµÉµdirectiveInject(i1.CarService), i0.ÉµÉµdirectiveInject(i2.RentalService), i0.ÉµÉµdirectiveInject(i3.AuthService), i0.ÉµÉµdirectiveInject(i4.Router));\n      };\n    }\n    static {\n      this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n        type: CarsListComponent,\n        selectors: [[\"app-cars-list\"]],\n        standalone: true,\n        features: [i0.ÉµÉµStandaloneFeature],\n        decls: 8,\n        vars: 5,\n        consts: [[1, \"container\"], [1, \"page-title\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"grid grid-3\", 4, \"ngIf\"], [\"class\", \"no-cars\", 4, \"ngIf\"], [1, \"alert\", \"alert-success\"], [1, \"alert\", \"alert-danger\"], [1, \"loading\"], [1, \"grid\", \"grid-3\"], [\"class\", \"car-card card\", 4, \"ngFor\", \"ngForOf\"], [1, \"car-card\", \"card\"], [1, \"car-image\"], [1, \"car-icon\"], [1, \"car-details\"], [1, \"car-year\"], [1, \"car-info\"], [1, \"info-item\"], [1, \"label\"], [1, \"value\"], [1, \"value\", \"price\"], [1, \"car-status\"], [1, \"status-badge\"], [1, \"btn\", \"btn-success\", \"btn-block\", 3, \"click\", \"disabled\"], [1, \"no-cars\"]],\n        template: function CarsListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"h1\", 1);\n            i0.ÉµÉµtext(2, \"Available Cars\");\n            i0.ÉµÉµelementEnd();\n            i0.ÉµÉµtemplate(3, CarsListComponent_div_3_Template, 2, 1, \"div\", 2)(4, CarsListComponent_div_4_Template, 2, 1, \"div\", 3)(5, CarsListComponent_div_5_Template, 2, 0, \"div\", 4)(6, CarsListComponent_div_6_Template, 2, 1, \"div\", 5)(7, CarsListComponent_div_7_Template, 3, 0, \"div\", 6);\n            i0.ÉµÉµelementEnd();\n          }\n          if (rf & 2) {\n            i0.ÉµÉµadvance(3);\n            i0.ÉµÉµproperty(\"ngIf\", ctx.successMessage);\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµproperty(\"ngIf\", ctx.errorMessage);\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµproperty(\"ngIf\", ctx.isLoading);\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµproperty(\"ngIf\", !ctx.isLoading);\n            i0.ÉµÉµadvance();\n            i0.ÉµÉµproperty(\"ngIf\", !ctx.isLoading && ctx.cars.length === 0);\n          }\n        },\n        dependencies: [CommonModule, i5.NgForOf, i5.NgIf],\n        styles: [\".page-title[_ngcontent-%COMP%] {\\n  color: white;\\n  text-align: center;\\n  margin-bottom: 30px;\\n  font-size: 36px;\\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\\n}\\n\\n.car-card[_ngcontent-%COMP%] {\\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\\n  overflow: hidden;\\n}\\n\\n.car-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);\\n}\\n\\n.car-image[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  padding: 40px;\\n  text-align: center;\\n  border-radius: 10px 10px 0 0;\\n  margin: -20px -20px 20px -20px;\\n}\\n\\n.car-icon[_ngcontent-%COMP%] {\\n  font-size: 60px;\\n}\\n\\n.car-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  color: #2d3748;\\n  margin-bottom: 5px;\\n  font-size: 22px;\\n}\\n\\n.car-year[_ngcontent-%COMP%] {\\n  color: #718096;\\n  margin-bottom: 15px;\\n}\\n\\n.car-info[_ngcontent-%COMP%] {\\n  margin: 20px 0;\\n}\\n\\n.info-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 10px;\\n  padding: 8px 0;\\n  border-bottom: 1px solid #e2e8f0;\\n}\\n\\n.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%] {\\n  color: #718096;\\n  font-weight: 500;\\n}\\n\\n.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%] {\\n  color: #2d3748;\\n  font-weight: 600;\\n}\\n\\n.info-item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%] {\\n  color: #48bb78;\\n  font-size: 18px;\\n}\\n\\n.car-status[_ngcontent-%COMP%] {\\n  margin: 15px 0;\\n  text-align: center;\\n}\\n\\n.status-badge[_ngcontent-%COMP%] {\\n  padding: 6px 15px;\\n  border-radius: 20px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  display: inline-block;\\n}\\n\\n.status-badge.available[_ngcontent-%COMP%] {\\n  background: #c6f6d5;\\n  color: #22543d;\\n}\\n\\n.status-badge.unavailable[_ngcontent-%COMP%] {\\n  background: #fed7d7;\\n  color: #c53030;\\n}\\n\\n.btn-block[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 15px;\\n}\\n\\n.no-cars[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: white;\\n  font-size: 18px;\\n  padding: 40px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jYXJzLWxpc3QvY2Fycy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsMkNBQTJDO0FBQzdDOztBQUVBO0VBQ0UscURBQXFEO0VBQ3JELGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLDJCQUEyQjtFQUMzQiwyQ0FBMkM7QUFDN0M7O0FBRUE7RUFDRSw2REFBNkQ7RUFDN0QsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQiw0QkFBNEI7RUFDNUIsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsY0FBYztFQUNkLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxjQUFjO0VBQ2Qsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixlQUFlO0VBQ2YsYUFBYTtBQUNmIiwic291cmNlc0NvbnRlbnQiOlsiLnBhZ2UtdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgZm9udC1zaXplOiAzNnB4O1xuICB0ZXh0LXNoYWRvdzogMnB4IDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xufVxuXG4uY2FyLWNhcmQge1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlLCBib3gtc2hhZG93IDAuM3MgZWFzZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmNhci1jYXJkOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xuICBib3gtc2hhZG93OiAwIDE1cHggNDBweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xufVxuXG4uY2FyLWltYWdlIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTtcbiAgcGFkZGluZzogNDBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwO1xuICBtYXJnaW46IC0yMHB4IC0yMHB4IDIwcHggLTIwcHg7XG59XG5cbi5jYXItaWNvbiB7XG4gIGZvbnQtc2l6ZTogNjBweDtcbn1cblxuLmNhci1kZXRhaWxzIGgzIHtcbiAgY29sb3I6ICMyZDM3NDg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgZm9udC1zaXplOiAyMnB4O1xufVxuXG4uY2FyLXllYXIge1xuICBjb2xvcjogIzcxODA5NjtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbn1cblxuLmNhci1pbmZvIHtcbiAgbWFyZ2luOiAyMHB4IDA7XG59XG5cbi5pbmZvLWl0ZW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIHBhZGRpbmc6IDhweCAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UyZThmMDtcbn1cblxuLmluZm8taXRlbSAubGFiZWwge1xuICBjb2xvcjogIzcxODA5NjtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLmluZm8taXRlbSAudmFsdWUge1xuICBjb2xvcjogIzJkMzc0ODtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmluZm8taXRlbSAucHJpY2Uge1xuICBjb2xvcjogIzQ4YmI3ODtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4uY2FyLXN0YXR1cyB7XG4gIG1hcmdpbjogMTVweCAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5zdGF0dXMtYmFkZ2Uge1xuICBwYWRkaW5nOiA2cHggMTVweDtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi5zdGF0dXMtYmFkZ2UuYXZhaWxhYmxlIHtcbiAgYmFja2dyb3VuZDogI2M2ZjZkNTtcbiAgY29sb3I6ICMyMjU0M2Q7XG59XG5cbi5zdGF0dXMtYmFkZ2UudW5hdmFpbGFibGUge1xuICBiYWNrZ3JvdW5kOiAjZmVkN2Q3O1xuICBjb2xvcjogI2M1MzAzMDtcbn1cblxuLmJ0bi1ibG9jayB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG4ubm8tY2FycyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDE4cHg7XG4gIHBhZGRpbmc6IDQwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n      });\n    }\n  }\n  return CarsListComponent;\n})();","map":{"version":3,"names":["CommonModule","i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµadvance","ÉµÉµtextInterpolate1","ctx_r0","successMessage","errorMessage","ÉµÉµlistener","CarsListComponent_div_6_div_1_Template_button_click_23_listener","car_r3","ÉµÉµrestoreView","_r2","$implicit","ÉµÉµnextContext","ÉµÉµresetView","rentCar","ÉµÉµtextInterpolate2","brand","model","ÉµÉµtextInterpolate","year","registrationNumber","pricePerDay","ÉµÉµclassProp","available","ÉµÉµproperty","ÉµÉµtemplate","CarsListComponent_div_6_div_1_Template","cars","CarsListComponent","constructor","carService","rentalService","authService","router","isLoading","isAdmin","ngOnInit","loadCars","getAllCars","subscribe","next","error","console","car","confirm","rental","carId","id","startDate","Date","toISOString","endDate","now","createRental","response","setTimeout","deleteCar","err","navigateToAdd","log","navigateToEdit","ÉµÉµdirectiveInject","i1","CarService","i2","RentalService","i3","AuthService","i4","Router","selectors","standalone","features","ÉµÉµStandaloneFeature","decls","vars","consts","template","CarsListComponent_Template","rf","ctx","CarsListComponent_div_3_Template","CarsListComponent_div_4_Template","CarsListComponent_div_5_Template","CarsListComponent_div_6_Template","CarsListComponent_div_7_Template","length","i5","NgForOf","NgIf","styles"],"sources":["C:\\Users\\ILYAS\\Documents\\car\\car-management-system-master\\frontend\\src\\app\\components\\cars-list\\cars-list.component.ts","C:\\Users\\ILYAS\\Documents\\car\\car-management-system-master\\frontend\\src\\app\\components\\cars-list\\cars-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router } from '@angular/router'; // Import Router\nimport { CarService } from '../../services/car.service';\nimport { RentalService } from '../../services/rental.service';\nimport { AuthService } from '../../services/auth.service'; // <-- HADI LI KANT NAQSA\nimport { Car } from '../../models/car.model';\n\n@Component({\n  selector: 'app-cars-list',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './cars-list.component.html',\n  styleUrls: ['./cars-list.component.css']\n})\nexport class CarsListComponent implements OnInit {\n  // DÃ©claration d les variables (Darouriyin)\n  cars: Car[] = [];\n  isLoading = true;\n  errorMessage = '';\n  successMessage = '';\n  isAdmin = false;\n\n  constructor(\n    private carService: CarService,\n    private rentalService: RentalService,\n    private authService: AuthService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    // VÃ©rifier wach admin bach t-affichi les boutons\n    this.isAdmin = this.authService.isAdmin();\n    this.loadCars();\n  }\n\n  loadCars(): void {\n    this.isLoading = true;\n    this.carService.getAllCars().subscribe({\n      next: (cars) => {\n        this.cars = cars;\n        this.isLoading = false;\n      },\n      error: (error: any) => {\n        this.errorMessage = 'Failed to load cars';\n        this.isLoading = false;\n        console.error('Error loading cars:', error);\n      }\n    });\n  }\n\n  rentCar(car: Car): void {\n    if (confirm(`Rent ${car.brand} ${car.model} for $${car.pricePerDay}/day?`)) {\n      const rental = {\n        carId: car.id,\n        startDate: new Date().toISOString(),\n        endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString() // 7 days\n      };\n\n      this.rentalService.createRental(rental).subscribe({\n        next: (response) => {\n          this.successMessage = `Successfully rented ${car.brand} ${car.model}!`;\n          setTimeout(() => this.successMessage = '', 3000);\n          this.loadCars();\n        },\n        error: (error: any) => {\n          this.errorMessage = 'Failed to rent car. Please try again.';\n          setTimeout(() => this.errorMessage = '', 3000);\n          console.error('Error renting car:', error);\n        }\n      });\n    }\n  }\n\n  deleteCar(car: Car): void {\n    if (confirm('Are you sure you want to delete this car?')) {\n      // T-akked anaka zedti deleteCar f CarService.ts\n      this.carService.deleteCar(car.id).subscribe({\n        next: () => {\n          this.successMessage = 'Car deleted successfully';\n          this.loadCars(); // Recharger la liste\n        },\n        error: (err: any) => {\n          this.errorMessage = 'Could not delete car';\n          console.error(err);\n        }\n      });\n    }\n  }\n\n  // Hado bach l-HTML ma y-dirch erreur, ta t-sawb les components dialhom mn be3d\n  navigateToAdd(): void {\n    console.log(\"Navigate to add car page\");\n    // this.router.navigate(['/add-car']);\n  }\n\n  navigateToEdit(car: Car): void {\n    console.log(\"Navigate to edit car page\", car);\n    // this.router.navigate(['/edit-car', car.id]);\n  }\n}","<div class=\"container\">\n  <h1 class=\"page-title\">Available Cars</h1>\n\n  <div class=\"alert alert-success\" *ngIf=\"successMessage\">\n    {{ successMessage }}\n  </div>\n\n  <div class=\"alert alert-danger\" *ngIf=\"errorMessage\">\n    {{ errorMessage }}\n  </div>\n\n  <div class=\"loading\" *ngIf=\"isLoading\">\n    Loading cars...\n  </div>\n\n  <div class=\"grid grid-3\" *ngIf=\"!isLoading\">\n    <div class=\"car-card card\" *ngFor=\"let car of cars\">\n      <div class=\"car-image\">\n        <span class=\"car-icon\">ðŸš—</span>\n      </div>\n      \n      <div class=\"car-details\">\n        <h3>{{ car.brand }} {{ car.model }}</h3>\n        <p class=\"car-year\">{{ car.year }}</p>\n        \n        <div class=\"car-info\">\n          <div class=\"info-item\">\n            <span class=\"label\">Registration:</span>\n            <span class=\"value\">{{ car.registrationNumber }}</span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"label\">Price:</span>\n            <span class=\"value price\">${{ car.pricePerDay }}/day</span>\n          </div>\n        </div>\n\n        <div class=\"car-status\">\n          <span \n            class=\"status-badge\" \n            [class.available]=\"car.available\"\n            [class.unavailable]=\"!car.available\"\n          >\n            {{ car.available ? 'Available' : 'Rented' }}\n          </span>\n        </div>\n\n        <button \n          class=\"btn btn-success btn-block\"\n          (click)=\"rentCar(car)\"\n          [disabled]=\"!car.available\"\n        >\n          {{ car.available ? 'Rent Now' : 'Not Available' }}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"no-cars\" *ngIf=\"!isLoading && cars.length === 0\">\n    <p>No cars available at the moment.</p>\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}